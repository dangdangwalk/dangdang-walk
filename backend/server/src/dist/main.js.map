{"version":3,"sources":["../src/main.ts"],"sourcesContent":["import * as process from 'node:process';\n\nimport { Logger } from '@nestjs/common';\nimport { NestFactory } from '@nestjs/core';\nimport * as cookieParser from 'cookie-parser';\nimport 'reflect-metadata';\nimport { initializeTransactionalContext } from 'typeorm-transactional';\n\nimport { AppModule } from './app.module';\nimport { PORT } from './common/config/settings';\nimport { WinstonLoggerService } from './common/logger/winstonLogger.service';\n\nasync function bootstrap() {\n    initializeTransactionalContext();\n\n    const app = await NestFactory.create(AppModule);\n\n    app.useLogger(new WinstonLoggerService());\n\n    app.enableCors({\n        origin: [\n            'http://localhost:3000',\n            'https://localhost:3000',\n            'http://localhost:8080',\n            'https://dangdangwalk.github.io',\n            'https://dangdang-walk.xyz',\n            'https://dangdang.surge.sh/',\n        ],\n        methods: ['GET', 'HEAD', 'PUT', 'PATCH', 'POST', 'DELETE', 'OPTIONS'],\n        allowedHeaders: ['Content-Type', 'Accept', 'Authorization'],\n        credentials: true,\n    });\n\n    app.use(cookieParser());\n\n    const logger = app.get(Logger);\n\n    await (async () => {\n        await app.listen(PORT, () => {\n            logger.log(`Server running at http://${process.env.MYSQL_HOST}:${PORT}`);\n        });\n    })();\n}\n\nbootstrap();\n"],"names":["bootstrap","initializeTransactionalContext","app","NestFactory","create","AppModule","useLogger","WinstonLoggerService","enableCors","origin","methods","allowedHeaders","credentials","use","cookieParser","logger","get","Logger","listen","PORT","log","process","env","MYSQL_HOST"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";6BAAyB;wBAEF;sBACK;8BACE;QACvB;sCACwC;2BAErB;0BACL;sCACgB;AAErC,eAAeA;IACXC,IAAAA,oDAA8B;IAE9B,MAAMC,MAAM,MAAMC,iBAAW,CAACC,MAAM,CAACC,oBAAS;IAE9CH,IAAII,SAAS,CAAC,IAAIC,0CAAoB;IAEtCL,IAAIM,UAAU,CAAC;QACXC,QAAQ;YACJ;YACA;YACA;YACA;YACA;YACA;SACH;QACDC,SAAS;YAAC;YAAO;YAAQ;YAAO;YAAS;YAAQ;YAAU;SAAU;QACrEC,gBAAgB;YAAC;YAAgB;YAAU;SAAgB;QAC3DC,aAAa;IACjB;IAEAV,IAAIW,GAAG,CAACC;IAER,MAAMC,SAASb,IAAIc,GAAG,CAACC,cAAM;IAE7B,MAAM,AAAC,CAAA;QACH,MAAMf,IAAIgB,MAAM,CAACC,cAAI,EAAE;YACnBJ,OAAOK,GAAG,CAAC,CAAC,yBAAyB,EAAEC,aAAQC,GAAG,CAACC,UAAU,CAAC,CAAC,EAAEJ,cAAI,CAAC,CAAC;QAC3E;IACJ,CAAA;AACJ;AAEAnB"}