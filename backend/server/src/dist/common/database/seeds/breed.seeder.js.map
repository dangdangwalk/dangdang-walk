{"version":3,"sources":["../../../../src/common/database/seeds/breed.seeder.ts"],"sourcesContent":["import * as fs from 'node:fs';\n\nimport { DataSource } from 'typeorm';\nimport { Seeder } from 'typeorm-extension';\n\nimport { Breed } from '../../../breed/breed.entity';\nimport { color } from '../../../utils/ansi.util';\nimport { WinstonLoggerService } from '../../logger/winstonLogger.service';\n\nexport default class BreedSeeder implements Seeder {\n    public async run(dataSource: DataSource): Promise<any> {\n        const repository = dataSource.getRepository(Breed);\n\n        const jsonData = fs.readFileSync('./resources/breedData.json', 'utf-8');\n        const breeds = JSON.parse(jsonData);\n\n        await repository.query('SET FOREIGN_KEY_CHECKS = 0;');\n        await repository.clear();\n        await repository.query('SET FOREIGN_KEY_CHECKS = 1;');\n        await repository.insert(breeds);\n\n        const logger = new WinstonLoggerService();\n        logger.log(`${color(breeds.length, 'Yellow')} rows inserted into breed table.`);\n    }\n}\n"],"names":["BreedSeeder","run","dataSource","repository","getRepository","Breed","jsonData","fs","readFileSync","breeds","JSON","parse","query","clear","insert","logger","WinstonLoggerService","log","color","length"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;eASqBA;;;wBATD;6BAKE;0BACA;sCACe;AAEtB,IAAA,AAAMA,cAAN,MAAMA;IACjB,MAAaC,IAAIC,UAAsB,EAAgB;QACnD,MAAMC,aAAaD,WAAWE,aAAa,CAACC,kBAAK;QAEjD,MAAMC,WAAWC,QAAGC,YAAY,CAAC,8BAA8B;QAC/D,MAAMC,SAASC,KAAKC,KAAK,CAACL;QAE1B,MAAMH,WAAWS,KAAK,CAAC;QACvB,MAAMT,WAAWU,KAAK;QACtB,MAAMV,WAAWS,KAAK,CAAC;QACvB,MAAMT,WAAWW,MAAM,CAACL;QAExB,MAAMM,SAAS,IAAIC,0CAAoB;QACvCD,OAAOE,GAAG,CAAC,CAAC,EAAEC,IAAAA,eAAK,EAACT,OAAOU,MAAM,EAAE,UAAU,gCAAgC,CAAC;IAClF;AACJ"}