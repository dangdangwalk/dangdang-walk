{"version":3,"sources":["../../src/users/users.controller.ts"],"sourcesContent":["import { Body, Controller, Get, HttpCode, Patch, UsePipes, ValidationPipe } from '@nestjs/common';\n\nimport { UpdateUserDto } from './dtos/update-user.dto';\n\nimport { UsersService } from './users.service';\n\nimport { AccessTokenPayload } from '../auth/token/token.service';\nimport { User } from '../users/decorators/user.decorator';\n\n@Controller('/users')\n@UsePipes(new ValidationPipe({ whitelist: true }))\nexport class UsersController {\n    constructor(private readonly usersService: UsersService) {}\n\n    @Get('/me')\n    async getUserProfile(@User() user: AccessTokenPayload) {\n        return await this.usersService.getUserProfile(user);\n    }\n\n    @Patch('/me')\n    @HttpCode(204)\n    async updateUserProfile(@User() { userId }: AccessTokenPayload, @Body() userInfo: UpdateUserDto) {\n        return await this.usersService.updateUserProfile(userId, userInfo);\n    }\n}\n"],"names":["UsersController","getUserProfile","user","usersService","updateUserProfile","userId","userInfo","constructor","Get","User","Patch","HttpCode","Body","Controller","UsePipes","ValidationPipe","whitelist"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";+BAWaA;;;eAAAA;;;wBAXoE;+BAEnD;8BAED;8BAEM;+BACd;;;;;;;;;;;;;;;AAId,IAAA,AAAMA,kBAAN,MAAMA;IAGT,MACMC,eAAe,AAAQC,IAAwB,EAAE;QACnD,OAAO,MAAM,IAAI,CAACC,YAAY,CAACF,cAAc,CAACC;IAClD;IAEA,MAEME,kBAAkB,AAAQ,EAAEC,MAAM,EAAsB,EAAE,AAAQC,QAAuB,EAAE;QAC7F,OAAO,MAAM,IAAI,CAACH,YAAY,CAACC,iBAAiB,CAACC,QAAQC;IAC7D;IAXAC,YAAY,AAAiBJ,YAA0B,CAAE;aAA5BA,eAAAA;IAA6B;AAY9D;;IAVKK,IAAAA,WAAG,EAAC;IACiBC,aAAAA,IAAAA,mBAAI;;;eAAS,gCAAkB,4BAAlB,gCAAkB;;;GAJ5CT;;IAQRU,IAAAA,aAAK,EAAC;IACNC,IAAAA,gBAAQ,EAAC;IACeF,aAAAA,IAAAA,mBAAI;IAAoCG,aAAAA,IAAAA,YAAI;;;eAAzB,gCAAkB,4BAAlB,gCAAkB;eAAoB,4BAAa,4BAAb,4BAAa;;;GAVtFZ;AAAAA;IAFZa,IAAAA,kBAAU,EAAC;IACXC,IAAAA,gBAAQ,EAAC,IAAIC,sBAAc,CAAC;QAAEC,WAAW;IAAK;;;eAEA,0BAAY,4BAAZ,0BAAY;;GAD9ChB"}